[Config file]: config_files/8.json
[Unhandled Error] KeyError('action_type')
Traceback (most recent call last):
  File "/root/script/webarena/run.py", line 312, in test
    early_stop_flag, stop_info = early_stop(
  File "/root/script/webarena/run.py", line 198, in early_stop
    if last_action["action_type"] != ActionTypes.TYPE:
KeyError: 'action_type'
[Config file]: config_files/9.json
[Unhandled Error] KeyError('action_type')
Traceback (most recent call last):
  File "/root/script/webarena/run.py", line 312, in test
    early_stop_flag, stop_info = early_stop(
  File "/root/script/webarena/run.py", line 198, in early_stop
    if last_action["action_type"] != ActionTypes.TYPE:
KeyError: 'action_type'
[Config file]: config_files/9.json
[Unhandled Error] KeyError('action_type')
Traceback (most recent call last):
  File "/root/script/webarena/run.py", line 312, in test
    early_stop_flag, stop_info = early_stop(
  File "/root/script/webarena/run.py", line 198, in early_stop
    if last_action["action_type"] != ActionTypes.TYPE:
KeyError: 'action_type'
[Config file]: config_files/9.json
[Unhandled Error] KeyError('action_type')
Traceback (most recent call last):
  File "/root/script/webarena/run.py", line 312, in test
    early_stop_flag, stop_info = early_stop(
  File "/root/script/webarena/run.py", line 197, in early_stop
    print(last_action["action_type"])
KeyError: 'action_type'
[Config file]: config_files/7.json
[Unhandled Error] KeyError('action_type')
Traceback (most recent call last):
  File "/root/script/webarena/run.py", line 312, in test
    early_stop_flag, stop_info = early_stop(
  File "/root/script/webarena/run.py", line 198, in early_stop
    if last_action["action_type"] != ActionTypes.TYPE:
KeyError: 'action_type'
[Config file]: config_files/7.json
[Unhandled Error] KeyError('action_type')
Traceback (most recent call last):
  File "/root/script/webarena/run.py", line 315, in test
    early_stop_flag, stop_info = early_stop(
  File "/root/script/webarena/run.py", line 201, in early_stop
    if last_action["action_type"] != ActionTypes.TYPE:
KeyError: 'action_type'
[Config file]: config_files/7.json
[Unhandled Error] KeyError('action_type')
Traceback (most recent call last):
  File "/root/script/webarena/run.py", line 314, in test
    early_stop_flag, stop_info = early_stop(
  File "/root/script/webarena/run.py", line 200, in early_stop
    if last_action["action_type"] != ActionTypes.TYPE:
KeyError: 'action_type'
[Config file]: config_files/7.json
[Unhandled Error] FileNotFoundError(2, 'No such file or directory')
Traceback (most recent call last):
  File "/root/script/webarena/run.py", line 389, in test
    with open(format_traces_path,"w") as f:
FileNotFoundError: [Errno 2] No such file or directory: 'results/format_traces/7.json'
[Config file]: config_files/7.json
[Unhandled Error] AttributeError("'Logger' object has no attribute 'infor'")
Traceback (most recent call last):
  File "/root/script/webarena/run.py", line 391, in test
    logger.infor(f"[Format trace saved] Path: {format_traces_path}")
AttributeError: 'Logger' object has no attribute 'infor'. Did you mean: 'info'?
[Config file]: /tmp/tmp7baqjiwm/11.json
[Unhandled Error] LookupError("\n**********************************************************************\n  Resource \x1b[93mpunkt\x1b[0m not found.\n  Please use the NLTK Downloader to obtain the resource:\n\n  \x1b[31m>>> import nltk\n  >>> nltk.download('punkt')\n  \x1b[0m\n  For more information see: https://www.nltk.org/data.html\n\n  Attempted to load \x1b[93mtokenizers/punkt/PY3/english.pickle\x1b[0m\n\n  Searched in:\n    - '/root/nltk_data'\n    - '/root/miniconda3/envs/webarena/nltk_data'\n    - '/root/miniconda3/envs/webarena/share/nltk_data'\n    - '/root/miniconda3/envs/webarena/lib/nltk_data'\n    - '/usr/share/nltk_data'\n    - '/usr/local/share/nltk_data'\n    - '/usr/lib/nltk_data'\n    - '/usr/local/lib/nltk_data'\n    - ''\n**********************************************************************\n")
Traceback (most recent call last):
  File "/root/script/webarena/run.py", line 365, in test
    score = evaluator(
  File "<@beartype(evaluation_harness.evaluators.EvaluatorComb.__call__) at 0x7f8cde8b3490>", line 112, in __call__
  File "/root/script/webarena/evaluation_harness/evaluators.py", line 350, in __call__
    cur_score = evaluator(trajectory, config_file, page, client)
  File "/root/script/webarena/evaluation_harness/evaluators.py", line 145, in __call__
    score *= self.must_include(
  File "<@beartype(evaluation_harness.evaluators.StringEvaluator.must_include) at 0x7f8cde8b2b00>", line 69, in must_include
  File "/root/script/webarena/evaluation_harness/evaluators.py", line 106, in must_include
    and len(word_tokenize(clean_ref)) == 1
  File "/root/miniconda3/envs/webarena/lib/python3.10/site-packages/nltk/tokenize/__init__.py", line 129, in word_tokenize
    sentences = [text] if preserve_line else sent_tokenize(text, language)
  File "/root/miniconda3/envs/webarena/lib/python3.10/site-packages/nltk/tokenize/__init__.py", line 106, in sent_tokenize
    tokenizer = load(f"tokenizers/punkt/{language}.pickle")
  File "/root/miniconda3/envs/webarena/lib/python3.10/site-packages/nltk/data.py", line 750, in load
    opened_resource = _open(resource_url)
  File "/root/miniconda3/envs/webarena/lib/python3.10/site-packages/nltk/data.py", line 876, in _open
    return find(path_, path + [""]).open()
  File "/root/miniconda3/envs/webarena/lib/python3.10/site-packages/nltk/data.py", line 583, in find
    raise LookupError(resource_not_found)
LookupError: 
**********************************************************************
  Resource [93mpunkt[0m not found.
  Please use the NLTK Downloader to obtain the resource:

  [31m>>> import nltk
  >>> nltk.download('punkt')
  [0m
  For more information see: https://www.nltk.org/data.html

  Attempted to load [93mtokenizers/punkt/PY3/english.pickle[0m

  Searched in:
    - '/root/nltk_data'
    - '/root/miniconda3/envs/webarena/nltk_data'
    - '/root/miniconda3/envs/webarena/share/nltk_data'
    - '/root/miniconda3/envs/webarena/lib/nltk_data'
    - '/usr/share/nltk_data'
    - '/usr/local/share/nltk_data'
    - '/usr/lib/nltk_data'
    - '/usr/local/lib/nltk_data'
    - ''
**********************************************************************

[Config file]: /tmp/tmp1d2hhcv8/11.json
[Unhandled Error] LookupError("\n**********************************************************************\n  Resource \x1b[93mpunkt\x1b[0m not found.\n  Please use the NLTK Downloader to obtain the resource:\n\n  \x1b[31m>>> import nltk\n  >>> nltk.download('punkt')\n  \x1b[0m\n  For more information see: https://www.nltk.org/data.html\n\n  Attempted to load \x1b[93mtokenizers/punkt/PY3/english.pickle\x1b[0m\n\n  Searched in:\n    - '/root/nltk_data'\n    - '/root/miniconda3/envs/webarena/nltk_data'\n    - '/root/miniconda3/envs/webarena/share/nltk_data'\n    - '/root/miniconda3/envs/webarena/lib/nltk_data'\n    - '/usr/share/nltk_data'\n    - '/usr/local/share/nltk_data'\n    - '/usr/lib/nltk_data'\n    - '/usr/local/lib/nltk_data'\n    - ''\n**********************************************************************\n")
Traceback (most recent call last):
  File "/root/script/webarena/run.py", line 365, in test
    score = evaluator(
  File "<@beartype(evaluation_harness.evaluators.EvaluatorComb.__call__) at 0x7f14e3093490>", line 112, in __call__
  File "/root/script/webarena/evaluation_harness/evaluators.py", line 350, in __call__
    cur_score = evaluator(trajectory, config_file, page, client)
  File "/root/script/webarena/evaluation_harness/evaluators.py", line 145, in __call__
    score *= self.must_include(
  File "<@beartype(evaluation_harness.evaluators.StringEvaluator.must_include) at 0x7f14e3092b00>", line 69, in must_include
  File "/root/script/webarena/evaluation_harness/evaluators.py", line 106, in must_include
    and len(word_tokenize(clean_ref)) == 1
  File "/root/miniconda3/envs/webarena/lib/python3.10/site-packages/nltk/tokenize/__init__.py", line 129, in word_tokenize
    sentences = [text] if preserve_line else sent_tokenize(text, language)
  File "/root/miniconda3/envs/webarena/lib/python3.10/site-packages/nltk/tokenize/__init__.py", line 106, in sent_tokenize
    tokenizer = load(f"tokenizers/punkt/{language}.pickle")
  File "/root/miniconda3/envs/webarena/lib/python3.10/site-packages/nltk/data.py", line 750, in load
    opened_resource = _open(resource_url)
  File "/root/miniconda3/envs/webarena/lib/python3.10/site-packages/nltk/data.py", line 876, in _open
    return find(path_, path + [""]).open()
  File "/root/miniconda3/envs/webarena/lib/python3.10/site-packages/nltk/data.py", line 583, in find
    raise LookupError(resource_not_found)
LookupError: 
**********************************************************************
  Resource [93mpunkt[0m not found.
  Please use the NLTK Downloader to obtain the resource:

  [31m>>> import nltk
  >>> nltk.download('punkt')
  [0m
  For more information see: https://www.nltk.org/data.html

  Attempted to load [93mtokenizers/punkt/PY3/english.pickle[0m

  Searched in:
    - '/root/nltk_data'
    - '/root/miniconda3/envs/webarena/nltk_data'
    - '/root/miniconda3/envs/webarena/share/nltk_data'
    - '/root/miniconda3/envs/webarena/lib/nltk_data'
    - '/usr/share/nltk_data'
    - '/usr/local/share/nltk_data'
    - '/usr/lib/nltk_data'
    - '/usr/local/lib/nltk_data'
    - ''
**********************************************************************

[Config file]: config_files/9.json
[Unhandled Error] UnicodeEncodeError('ascii', 'Bearer "ollama"  # 使用本地模型的话，这个随便填', 19, 33, 'ordinal not in range(128)')
Traceback (most recent call last):
  File "/data5/yangfn/webarena/run.py", line 338, in test
    obs_after = retriver.simplify_observation(
  File "<@beartype(agent.agent.RetrivalAgent.simplify_observation) at 0x7f576ef90af0>", line 84, in simplify_observation
  File "/data5/yangfn/webarena/agent/agent.py", line 197, in simplify_observation
    response = call_llm(lm_config, prompt)
  File "/data5/yangfn/webarena/llms/utils.py", line 22, in call_llm
    response = generate_from_openai_chat_completion(
  File "/data5/yangfn/webarena/llms/providers/openai_utils.py", line 55, in wrapper
    raise e
  File "/data5/yangfn/webarena/llms/providers/openai_utils.py", line 35, in wrapper
    return func(*args, **kwargs)
  File "/data5/yangfn/webarena/llms/providers/openai_utils.py", line 259, in generate_from_openai_chat_completion
    response = openai.chat.completions.create(  # type: ignore
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_utils/_utils.py", line 277, in wrapper
    return func(*args, **kwargs)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/resources/chat/completions.py", line 643, in create
    return self._post(
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 1266, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 942, in request
    return self._request(
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 968, in _request
    request = self._build_request(options)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 461, in _build_request
    headers = self._build_headers(options)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 419, in _build_headers
    headers = httpx.Headers(headers_dict)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/httpx/_models.py", line 72, in __init__
    self._list = [
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/httpx/_models.py", line 76, in <listcomp>
    normalize_header_value(v, encoding),
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/httpx/_utils.py", line 53, in normalize_header_value
    return value.encode(encoding or "ascii")
UnicodeEncodeError: 'ascii' codec can't encode characters in position 19-32: ordinal not in range(128)
[Config file]: config_files/9.json
[Unhandled Error] UnicodeEncodeError('ascii', 'Bearer "ollama"  # 使用本地模型的话，这个随便填', 19, 33, 'ordinal not in range(128)')
Traceback (most recent call last):
  File "/data5/yangfn/webarena/run.py", line 338, in test
    obs_after = retriver.simplify_observation(
  File "<@beartype(agent.agent.RetrivalAgent.simplify_observation) at 0x7f5109614af0>", line 84, in simplify_observation
  File "/data5/yangfn/webarena/agent/agent.py", line 197, in simplify_observation
    response = call_llm(lm_config, prompt)
  File "/data5/yangfn/webarena/llms/utils.py", line 22, in call_llm
    response = generate_from_openai_chat_completion(
  File "/data5/yangfn/webarena/llms/providers/openai_utils.py", line 55, in wrapper
    raise e
  File "/data5/yangfn/webarena/llms/providers/openai_utils.py", line 35, in wrapper
    return func(*args, **kwargs)
  File "/data5/yangfn/webarena/llms/providers/openai_utils.py", line 259, in generate_from_openai_chat_completion
    response = openai.chat.completions.create(  # type: ignore
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_utils/_utils.py", line 277, in wrapper
    return func(*args, **kwargs)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/resources/chat/completions.py", line 643, in create
    return self._post(
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 1266, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 942, in request
    return self._request(
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 968, in _request
    request = self._build_request(options)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 461, in _build_request
    headers = self._build_headers(options)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 419, in _build_headers
    headers = httpx.Headers(headers_dict)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/httpx/_models.py", line 72, in __init__
    self._list = [
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/httpx/_models.py", line 76, in <listcomp>
    normalize_header_value(v, encoding),
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/httpx/_utils.py", line 53, in normalize_header_value
    return value.encode(encoding or "ascii")
UnicodeEncodeError: 'ascii' codec can't encode characters in position 19-32: ordinal not in range(128)
[Config file]: config_files/9.json
[Unhandled Error] UnicodeEncodeError('ascii', 'Bearer "ollama"  # 使用本地模型的话，这个随便填', 19, 33, 'ordinal not in range(128)')
Traceback (most recent call last):
  File "/data5/yangfn/webarena/run.py", line 338, in test
    obs_after = retriver.simplify_observation(
  File "<@beartype(agent.agent.RetrivalAgent.simplify_observation) at 0x7fd5d9f2caf0>", line 84, in simplify_observation
  File "/data5/yangfn/webarena/agent/agent.py", line 197, in simplify_observation
    response = call_llm(lm_config, prompt)
  File "/data5/yangfn/webarena/llms/utils.py", line 22, in call_llm
    response = generate_from_openai_chat_completion(
  File "/data5/yangfn/webarena/llms/providers/openai_utils.py", line 55, in wrapper
    raise e
  File "/data5/yangfn/webarena/llms/providers/openai_utils.py", line 35, in wrapper
    return func(*args, **kwargs)
  File "/data5/yangfn/webarena/llms/providers/openai_utils.py", line 259, in generate_from_openai_chat_completion
    response = openai.chat.completions.create(  # type: ignore
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_utils/_utils.py", line 277, in wrapper
    return func(*args, **kwargs)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/resources/chat/completions.py", line 643, in create
    return self._post(
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 1266, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 942, in request
    return self._request(
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 968, in _request
    request = self._build_request(options)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 461, in _build_request
    headers = self._build_headers(options)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 419, in _build_headers
    headers = httpx.Headers(headers_dict)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/httpx/_models.py", line 72, in __init__
    self._list = [
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/httpx/_models.py", line 76, in <listcomp>
    normalize_header_value(v, encoding),
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/httpx/_utils.py", line 53, in normalize_header_value
    return value.encode(encoding or "ascii")
UnicodeEncodeError: 'ascii' codec can't encode characters in position 19-32: ordinal not in range(128)
[Config file]: config_files/9.json
[Unhandled Error] UnicodeEncodeError('ascii', 'Bearer "ollama"  # 使用本地模型的话，这个随便填', 19, 33, 'ordinal not in range(128)')
Traceback (most recent call last):
  File "/data5/yangfn/webarena/run.py", line 338, in test
    obs_after = retriver.simplify_observation(
  File "<@beartype(agent.agent.RetrivalAgent.simplify_observation) at 0x7f99b0af0af0>", line 84, in simplify_observation
  File "/data5/yangfn/webarena/agent/agent.py", line 197, in simplify_observation
    response = call_llm(lm_config, prompt)
  File "/data5/yangfn/webarena/llms/utils.py", line 22, in call_llm
    response = generate_from_openai_chat_completion(
  File "/data5/yangfn/webarena/llms/providers/openai_utils.py", line 55, in wrapper
    raise e
  File "/data5/yangfn/webarena/llms/providers/openai_utils.py", line 35, in wrapper
    return func(*args, **kwargs)
  File "/data5/yangfn/webarena/llms/providers/openai_utils.py", line 260, in generate_from_openai_chat_completion
    response = openai.chat.completions.create(  # type: ignore
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_utils/_utils.py", line 277, in wrapper
    return func(*args, **kwargs)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/resources/chat/completions.py", line 643, in create
    return self._post(
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 1266, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 942, in request
    return self._request(
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 968, in _request
    request = self._build_request(options)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 461, in _build_request
    headers = self._build_headers(options)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/openai/_base_client.py", line 419, in _build_headers
    headers = httpx.Headers(headers_dict)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/httpx/_models.py", line 72, in __init__
    self._list = [
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/httpx/_models.py", line 76, in <listcomp>
    normalize_header_value(v, encoding),
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/httpx/_utils.py", line 53, in normalize_header_value
    return value.encode(encoding or "ascii")
UnicodeEncodeError: 'ascii' codec can't encode characters in position 19-32: ordinal not in range(128)
[Config file]: config_files/9.json
[Unhandled Error] Error('net::ERR_PROXY_CONNECTION_FAILED at http://ec2-3-131-244-37.us-east-2.compute.amazonaws.com:3000/\n=========================== logs ===========================\nnavigating to "http://ec2-3-131-244-37.us-east-2.compute.amazonaws.com:3000/", waiting until "load"\n============================================================')
Traceback (most recent call last):
  File "/data5/yangfn/webarena/run.py", line 319, in test
    obs, info = env.reset(options={"config_file": config_file})
  File "<@beartype(browser_env.envs.ScriptBrowserEnv.reset) at 0x7f8b4a068820>", line 51, in reset
  File "/data5/yangfn/webarena/browser_env/envs.py", line 211, in reset
    self.setup(config_file=config_file)
  File "<@beartype(browser_env.envs.ScriptBrowserEnv.setup) at 0x7f8b4a068550>", line 81, in setup
  File "/data5/yangfn/webarena/browser_env/envs.py", line 165, in setup
    page.goto(url)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/sync_api/_generated.py", line 9221, in goto
    self._sync(
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_sync_base.py", line 104, in _sync
    return task.result()
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_page.py", line 495, in goto
    return await self._main_frame.goto(**locals_to_params(locals()))
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_frame.py", line 147, in goto
    await self._channel.send("goto", locals_to_params(locals()))
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_connection.py", line 61, in send
    return await self._connection.wrap_api_call(
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_connection.py", line 461, in wrap_api_call
    return await cb()
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_connection.py", line 96, in inner_send
    result = next(iter(done)).result()
playwright._impl._api_types.Error: net::ERR_PROXY_CONNECTION_FAILED at http://ec2-3-131-244-37.us-east-2.compute.amazonaws.com:3000/
=========================== logs ===========================
navigating to "http://ec2-3-131-244-37.us-east-2.compute.amazonaws.com:3000/", waiting until "load"
============================================================
[Config file]: config_files/9.json
[Unhandled Error] Error('net::ERR_PROXY_CONNECTION_FAILED at http://ec2-3-131-244-37.us-east-2.compute.amazonaws.com:3000/\n=========================== logs ===========================\nnavigating to "http://ec2-3-131-244-37.us-east-2.compute.amazonaws.com:3000/", waiting until "load"\n============================================================')
Traceback (most recent call last):
  File "/data5/yangfn/webarena/run.py", line 319, in test
    obs, info = env.reset(options={"config_file": config_file})
  File "<@beartype(browser_env.envs.ScriptBrowserEnv.reset) at 0x7fd31e038820>", line 51, in reset
  File "/data5/yangfn/webarena/browser_env/envs.py", line 211, in reset
    self.setup(config_file=config_file)
  File "<@beartype(browser_env.envs.ScriptBrowserEnv.setup) at 0x7fd31e038550>", line 81, in setup
  File "/data5/yangfn/webarena/browser_env/envs.py", line 165, in setup
    page.goto(url)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/sync_api/_generated.py", line 9221, in goto
    self._sync(
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_sync_base.py", line 104, in _sync
    return task.result()
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_page.py", line 495, in goto
    return await self._main_frame.goto(**locals_to_params(locals()))
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_frame.py", line 147, in goto
    await self._channel.send("goto", locals_to_params(locals()))
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_connection.py", line 61, in send
    return await self._connection.wrap_api_call(
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_connection.py", line 461, in wrap_api_call
    return await cb()
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_connection.py", line 96, in inner_send
    result = next(iter(done)).result()
playwright._impl._api_types.Error: net::ERR_PROXY_CONNECTION_FAILED at http://ec2-3-131-244-37.us-east-2.compute.amazonaws.com:3000/
=========================== logs ===========================
navigating to "http://ec2-3-131-244-37.us-east-2.compute.amazonaws.com:3000/", waiting until "load"
============================================================
[Config file]: config_files/9.json
[Unhandled Error] KeyError('observation_splitter')
Traceback (most recent call last):
  File "/data5/yangfn/webarena/run.py", line 338, in test
    obs_after = retriver.simplify_observation(
  File "<@beartype(agent.agent.RetrivalAgent.simplify_observation) at 0x7f59ead289d0>", line 84, in simplify_observation
  File "/data5/yangfn/webarena/agent/agent.py", line 205, in simplify_observation
    observation = self.prompt_constructor.extract_observation(response)
  File "/data5/yangfn/webarena/agent/prompts/prompt_constructor.py", line 151, in extract_observation
    response = self._extract_observation(response)
  File "/data5/yangfn/webarena/agent/prompts/prompt_constructor.py", line 313, in _extract_observation
    observation_splitter = self.instruction["meta_data"]["observation_splitter"]
KeyError: 'observation_splitter'
[Config file]: config_files/9.json
[Unhandled Error] TypeError("get_action_description() missing 1 required positional argument: 'marks'")
Traceback (most recent call last):
  File "/data5/yangfn/webarena/run.py", line 359, in test
    action_str = get_action_description(
TypeError: get_action_description() missing 1 required positional argument: 'marks'
[Config file]: config_files/9.json
[Unhandled Error] TimeoutError('Timeout 30000.0ms exceeded while waiting for event "load"\n=========================== logs ===========================\nwaiting for event "load"\n============================================================')
Traceback (most recent call last):
  File "/data5/yangfn/webarena/browser_env/processors.py", line 587, in fetch_page_groundings
    groundings = page.eval_on_selector(selector="body",expression=rule)
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/sync_api/_generated.py", line 8748, in eval_on_selector
    self._sync(
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_sync_base.py", line 104, in _sync
    return task.result()
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_page.py", line 425, in eval_on_selector
    return await self._main_frame.eval_on_selector(
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_frame.py", line 384, in eval_on_selector
    await self._channel.send(
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_connection.py", line 61, in send
    return await self._connection.wrap_api_call(
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_connection.py", line 461, in wrap_api_call
    return await cb()
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_connection.py", line 96, in inner_send
    result = next(iter(done)).result()
playwright._impl._api_types.Error: Error: failed to find element matching selector "body"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/data5/yangfn/webarena/run.py", line 381, in test
    obs, _, terminated, _, info = env.step(action)
  File "/data5/yangfn/webarena/browser_env/envs.py", line 265, in step
    observation = self._get_obs()
  File "/data5/yangfn/webarena/browser_env/envs.py", line 181, in _get_obs
    self.current_observation = self.observation_handler.get_observation(
  File "/data5/yangfn/webarena/browser_env/processors.py", line 743, in get_observation
    text_obs = self.text_processor.process(page, client)
  File "/data5/yangfn/webarena/browser_env/processors.py", line 655, in process
    grounding_list = self.fetch_page_groundings(
  File "/data5/yangfn/webarena/browser_env/processors.py", line 590, in fetch_page_groundings
    page.wait_for_event("load")
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/sync_api/_generated.py", line 9417, in wait_for_event
    self._sync(
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_sync_base.py", line 104, in _sync
    return task.result()
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_page.py", line 524, in wait_for_event
    async with self.expect_event(event, predicate, timeout) as event_info:
  File "/home/yangfuning/.conda/envs/webarena/lib/python3.10/site-packages/playwright/_impl/_event_context_manager.py", line 33, in __aexit__
    await self._future
playwright._impl._api_types.TimeoutError: Timeout 30000.0ms exceeded while waiting for event "load"
=========================== logs ===========================
waiting for event "load"
============================================================
